<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Blizzard Username Character Table</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f4f6f8;
        padding: 20px;
    }
    h1 {
        color: #333;
    }
    table {
        border-collapse: collapse;
        width: 100%;
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    th, td {
        border-bottom: 1px solid #eee;
        padding: 10px;
        text-align: center;
    }
    th {
        background: #4a90e2;
        color: white;
        font-weight: normal;
    }
    tr:hover {
        background: #f9f9f9;
    }
    button {
        border: none;
        background: none;
        cursor: pointer;
        padding: 5px;
        font-size: 1em;
    }
    .copy-btn:hover {
        color: #4a90e2;
    }
    .edit-btn:hover {
        color: #f39c12;
    }
    .delete-btn:hover {
        color: #e74c3c;
    }
    .form-container {
        background: white;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 15px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    input, textarea {
        padding: 8px;
        margin-right: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }
    .add-btn {
        background: #4a90e2;
        color: white;
        padding: 8px 12px;
        border-radius: 4px;
    }
    .add-btn:hover {
        background: #357abd;
    }
</style>
</head>
<body>

<h1>Blizzard Username Character Table</h1>

<div class="form-container">
    <input type="text" id="charInput" maxlength="2" placeholder="Character">
    <input type="text" id="nameInput" placeholder="Unicode Name (optional)">
    <button class="add-btn" onclick="addCharacter()">Add Character</button>
    <br><br>
    <textarea id="massInput" rows="3" placeholder="Paste multiple characters here for mass add..."></textarea>
    <button class="add-btn" onclick="massAdd()">Mass Add</button>
</div>

<table id="charTable">
    <thead>
        <tr>
            <th>Character</th>
            <th>Unicode Name</th>
            <th>Copy</th>
            <th>Edit</th>
            <th>Delete</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<script>
// Try loading from local storage
let characters = JSON.parse(localStorage.getItem("blizzardChars")) || [
    { char: "√°", name: "Latin Small Letter A Acute" },
    { char: "√†", name: "Latin Small Letter A Grave" },
    { char: "√¢", name: "Latin Small Letter A Circumflex" },
    { char: "√§", name: "Latin Small Letter A Diaeresis" },
    { char: "√©", name: "Latin Small Letter E Acute" }
];

function getUnicodeName(char) {
    let code = char.codePointAt(0).toString(16).toUpperCase();
    return `U+${code} ${char}`; // Fallback format
}

function renderTable() {
    const tbody = document.querySelector("#charTable tbody");
    tbody.innerHTML = "";
    characters.forEach((item, index) => {
        const row = document.createElement("tr");
        row.innerHTML = `
            <td>${item.char}</td>
            <td>${item.name}</td>
            <td><button class="copy-btn" onclick="copyChar('${item.char}')">üìã</button></td>
            <td><button class="edit-btn" onclick="editCharacter(${index})">‚úèÔ∏è</button></td>
            <td><button class="delete-btn" onclick="deleteCharacter(${index})">üóëÔ∏è</button></td>
        `;
        tbody.appendChild(row);
    });
}

function copyChar(c) {
    navigator.clipboard.writeText(c);
    alert(`Copied: ${c}`);
}

function addCharacter() {
    const charVal = document.getElementById("charInput").value.trim();
    let nameVal = document.getElementById("nameInput").value.trim();
    if (!charVal) return;
    if (!nameVal) nameVal = getUnicodeName(charVal);
    characters.push({ char: charVal, name: nameVal });
    document.getElementById("charInput").value = "";
    document.getElementById("nameInput").value = "";
    renderTable();
}

function massAdd() {
    const chars = document.getElementById("massInput").value.trim();
    if (!chars) return;
    for (let c of chars) {
        characters.push({ char: c, name: getUnicodeName(c) });
    }
    document.getElementById("massInput").value = "";
    renderTable();
}

function editCharacter(index) {
    const newChar = prompt("Enter new character:", characters[index].char);
    let newName = prompt("Enter new name:", characters[index].name);
    if (newChar) {
        if (!newName) newName = getUnicodeName(newChar);
        characters[index] = { char: newChar, name: newName };
        renderTable();
    }
}

function deleteCharacter(index) {
    if (confirm("Are you sure you want to delete this character?")) {
        characters.splice(index, 1);
        renderTable();
    }
}

// Auto-save every 5 seconds
setInterval(() => {
    localStorage.setItem("blizzardChars", JSON.stringify(characters));
}, 5000);

renderTable();
</script>

</body>
</html>
